Account: analytical-platform-ingestion
Component: root
Stage: development
Role: platform-engineer-admin
Apply: false
[0m[1mInitializing the backend...[0m
[0m[1mUpgrading modules...[0m
Downloading git::https://github.com/ministryofjustice/terraform-aws-analytical-platform-observability.git?ref=4.2.0 for analytical_platform_observability...
- analytical_platform_observability in /tmp/terraform/analytical-platform-ingestion/modules/analytical_platform_observability
Downloading registry.terraform.io/terraform-aws-modules/iam/aws 6.1.0 for analytical_platform_observability.iam_role...
- analytical_platform_observability.iam_role in /tmp/terraform/analytical-platform-ingestion/modules/analytical_platform_observability.iam_role/modules/iam-role
Downloading registry.terraform.io/terraform-aws-modules/s3-bucket/aws 5.10.0 for bold_egress_bucket...
- bold_egress_bucket in /tmp/terraform/analytical-platform-ingestion/modules/bold_egress_bucket
Downloading registry.terraform.io/terraform-aws-modules/vpc/aws 6.6.0 for connected_vpc...
- connected_vpc in /tmp/terraform/analytical-platform-ingestion/modules/connected_vpc
Downloading registry.terraform.io/terraform-aws-modules/vpc/aws 6.0.1 for connected_vpc_endpoints...
- connected_vpc_endpoints in /tmp/terraform/analytical-platform-ingestion/modules/connected_vpc_endpoints/modules/vpc-endpoints
Downloading registry.terraform.io/terraform-aws-modules/route53/aws 5.0.0 for connected_vpc_outbound_route53_resolver_endpoint...
- connected_vpc_outbound_route53_resolver_endpoint in /tmp/terraform/analytical-platform-ingestion/modules/connected_vpc_outbound_route53_resolver_endpoint/modules/resolver-endpoints
Downloading registry.terraform.io/terraform-aws-modules/route53/aws 5.0.0 for connected_vpc_route53_resolver_associations...
- connected_vpc_route53_resolver_associations in /tmp/terraform/analytical-platform-ingestion/modules/connected_vpc_route53_resolver_associations/modules/resolver-rule-associations
Downloading registry.terraform.io/terraform-aws-modules/cloudwatch/aws 5.6.0 for connected_vpc_route53_resolver_logs...
- connected_vpc_route53_resolver_logs in /tmp/terraform/analytical-platform-ingestion/modules/connected_vpc_route53_resolver_logs/modules/log-group
- connected_vpc_transit_gateway_routes in modules/routes
Downloading registry.terraform.io/terraform-aws-modules/alb/aws 10.5.0 for datasync_activation_nlb...
- datasync_activation_nlb in /tmp/terraform/analytical-platform-ingestion/modules/datasync_activation_nlb
Downloading registry.terraform.io/terraform-aws-modules/security-group/aws 5.3.1 for datasync_activation_nlb_security_group...
- datasync_activation_nlb_security_group in /tmp/terraform/analytical-platform-ingestion/modules/datasync_activation_nlb_security_group
Downloading registry.terraform.io/terraform-aws-modules/kms/aws 4.2.0 for datasync_credentials_kms...
- datasync_credentials_kms in /tmp/terraform/analytical-platform-ingestion/modules/datasync_credentials_kms
Downloading registry.terraform.io/terraform-aws-modules/secrets-manager/aws 1.3.1 for datasync_dom1_secret...
- datasync_dom1_secret in /tmp/terraform/analytical-platform-ingestion/modules/datasync_dom1_secret
Downloading registry.terraform.io/terraform-aws-modules/cloudwatch/aws 5.6.0 for datasync_enhanced_logs...
- datasync_enhanced_logs in /tmp/terraform/analytical-platform-ingestion/modules/datasync_enhanced_logs/modules/log-group
Downloading registry.terraform.io/terraform-aws-modules/secrets-manager/aws 1.3.1 for datasync_exclude_path_secret...
- datasync_exclude_path_secret in /tmp/terraform/analytical-platform-ingestion/modules/datasync_exclude_path_secret
Downloading registry.terraform.io/terraform-aws-modules/iam/aws 6.4.0 for datasync_iam_policy...
- datasync_iam_policy in /tmp/terraform/analytical-platform-ingestion/modules/datasync_iam_policy/modules/iam-policy
Downloading registry.terraform.io/terraform-aws-modules/iam/aws 6.4.0 for datasync_iam_role...
- datasync_iam_role in /tmp/terraform/analytical-platform-ingestion/modules/datasync_iam_role/modules/iam-role
Downloading registry.terraform.io/terraform-aws-modules/secrets-manager/aws 1.3.1 for datasync_include_paths_secret...
- datasync_include_paths_secret in /tmp/terraform/analytical-platform-ingestion/modules/datasync_include_paths_secret
Downloading registry.terraform.io/terraform-aws-modules/ec2-instance/aws 6.2.0 for datasync_instance...
- datasync_instance in /tmp/terraform/analytical-platform-ingestion/modules/datasync_instance
Downloading registry.terraform.io/terraform-aws-modules/security-group/aws 5.3.1 for datasync_instance_security_group...
- datasync_instance_security_group in /tmp/terraform/analytical-platform-ingestion/modules/datasync_instance_security_group
Downloading registry.terraform.io/terraform-aws-modules/iam/aws 6.4.0 for datasync_laa_data_analysis_iam_role...
- datasync_laa_data_analysis_iam_role in /tmp/terraform/analytical-platform-ingestion/modules/datasync_laa_data_analysis_iam_role/modules/iam-role
Downloading registry.terraform.io/terraform-aws-modules/s3-bucket/aws 5.10.0 for datasync_opg_bucket...
- datasync_opg_bucket in /tmp/terraform/analytical-platform-ingestion/modules/datasync_opg_bucket
Downloading registry.terraform.io/terraform-aws-modules/iam/aws 6.4.0 for datasync_opg_replication_iam_policy...
- datasync_opg_replication_iam_policy in /tmp/terraform/analytical-platform-ingestion/modules/datasync_opg_replication_iam_policy/modules/iam-policy
Downloading registry.terraform.io/terraform-aws-modules/iam/aws 6.4.0 for datasync_opg_replication_iam_role...
- datasync_opg_replication_iam_role in /tmp/terraform/analytical-platform-ingestion/modules/datasync_opg_replication_iam_role/modules/iam-role
Downloading registry.terraform.io/terraform-aws-modules/iam/aws 6.4.0 for datasync_replication_iam_policy...
- datasync_replication_iam_policy in /tmp/terraform/analytical-platform-ingestion/modules/datasync_replication_iam_policy/modules/iam-policy
Downloading registry.terraform.io/terraform-aws-modules/iam/aws 6.4.0 for datasync_replication_iam_role...
- datasync_replication_iam_role in /tmp/terraform/analytical-platform-ingestion/modules/datasync_replication_iam_role/modules/iam-role
Downloading registry.terraform.io/terraform-aws-modules/security-group/aws 5.3.1 for datasync_task_eni_security_group...
- datasync_task_eni_security_group in /tmp/terraform/analytical-platform-ingestion/modules/datasync_task_eni_security_group
Downloading registry.terraform.io/terraform-aws-modules/cloudwatch/aws 5.6.0 for datasync_task_logs...
- datasync_task_logs in /tmp/terraform/analytical-platform-ingestion/modules/datasync_task_logs/modules/log-group
Downloading registry.terraform.io/terraform-aws-modules/security-group/aws 5.3.1 for datasync_vpc_endpoint_security_group...
- datasync_vpc_endpoint_security_group in /tmp/terraform/analytical-platform-ingestion/modules/datasync_vpc_endpoint_security_group
Downloading registry.terraform.io/terraform-aws-modules/lambda/aws 8.0.1 for definition_upload_lambda...
- definition_upload_lambda in /tmp/terraform/analytical-platform-ingestion/modules/definition_upload_lambda
Downloading registry.terraform.io/terraform-aws-modules/security-group/aws 5.3.1 for definition_upload_lambda_security_group...
- definition_upload_lambda_security_group in /tmp/terraform/analytical-platform-ingestion/modules/definition_upload_lambda_security_group
Downloading registry.terraform.io/terraform-aws-modules/s3-bucket/aws 5.10.0 for definitions_bucket...
- definitions_bucket in /tmp/terraform/analytical-platform-ingestion/modules/definitions_bucket
Downloading registry.terraform.io/terraform-aws-modules/kms/aws 3.1.1 for ec2_ebs_kms...
- ec2_ebs_kms in /tmp/terraform/analytical-platform-ingestion/modules/ec2_ebs_kms
Downloading registry.terraform.io/terraform-aws-modules/kms/aws 4.2.0 for govuk_notify_kms...
- govuk_notify_kms in /tmp/terraform/analytical-platform-ingestion/modules/govuk_notify_kms
Downloading registry.terraform.io/terraform-aws-modules/iam/aws 6.4.0 for guard_duty_malware_s3_scan_iam_role...
- guard_duty_malware_s3_scan_iam_role in /tmp/terraform/analytical-platform-ingestion/modules/guard_duty_malware_s3_scan_iam_role/modules/iam-role
Downloading registry.terraform.io/terraform-aws-modules/iam/aws 6.4.0 for guard_duty_s3_malware_protection_iam_policy...
- guard_duty_s3_malware_protection_iam_policy in /tmp/terraform/analytical-platform-ingestion/modules/guard_duty_s3_malware_protection_iam_policy/modules/iam-policy
Downloading registry.terraform.io/terraform-aws-modules/s3-bucket/aws 5.10.0 for ingestion_landing_bucket_notification...
- ingestion_landing_bucket_notification in /tmp/terraform/analytical-platform-ingestion/modules/ingestion_landing_bucket_notification/modules/notification
Downloading registry.terraform.io/terraform-aws-modules/s3-bucket/aws 5.10.0 for ingestion_quarantine_bucket_notification...
- ingestion_quarantine_bucket_notification in /tmp/terraform/analytical-platform-ingestion/modules/ingestion_quarantine_bucket_notification/modules/notification
Downloading registry.terraform.io/terraform-aws-modules/s3-bucket/aws 5.10.0 for ingestion_transfer_bucket_notification...
- ingestion_transfer_bucket_notification in /tmp/terraform/analytical-platform-ingestion/modules/ingestion_transfer_bucket_notification/modules/notification
Downloading registry.terraform.io/terraform-aws-modules/vpc/aws 6.6.0 for isolated_vpc...
- isolated_vpc in /tmp/terraform/analytical-platform-ingestion/modules/isolated_vpc
Downloading registry.terraform.io/terraform-aws-modules/vpc/aws 6.0.1 for isolated_vpc_endpoints...
- isolated_vpc_endpoints in /tmp/terraform/analytical-platform-ingestion/modules/isolated_vpc_endpoints/modules/vpc-endpoints
Downloading registry.terraform.io/terraform-aws-modules/s3-bucket/aws 5.10.0 for laa_data_analysis_bucket...
- laa_data_analysis_bucket in /tmp/terraform/analytical-platform-ingestion/modules/laa_data_analysis_bucket
Downloading registry.terraform.io/terraform-aws-modules/secrets-manager/aws 1.3.1 for laa_data_analysis_bucket_list...
- laa_data_analysis_bucket_list in /tmp/terraform/analytical-platform-ingestion/modules/laa_data_analysis_bucket_list
Downloading registry.terraform.io/terraform-aws-modules/iam/aws 6.4.0 for laa_data_analysis_iam_policy...
- laa_data_analysis_iam_policy in /tmp/terraform/analytical-platform-ingestion/modules/laa_data_analysis_iam_policy/modules/iam-policy
Downloading registry.terraform.io/terraform-aws-modules/secrets-manager/aws 1.3.1 for laa_data_analysis_keys...
- laa_data_analysis_keys in /tmp/terraform/analytical-platform-ingestion/modules/laa_data_analysis_keys
Downloading registry.terraform.io/terraform-aws-modules/iam/aws 6.4.0 for laa_data_analysis_replication_iam_policy...
- laa_data_analysis_replication_iam_policy in /tmp/terraform/analytical-platform-ingestion/modules/laa_data_analysis_replication_iam_policy/modules/iam-policy
Downloading registry.terraform.io/terraform-aws-modules/iam/aws 6.4.0 for laa_data_analysis_replication_iam_role...
- laa_data_analysis_replication_iam_role in /tmp/terraform/analytical-platform-ingestion/modules/laa_data_analysis_replication_iam_role/modules/iam-role
Downloading registry.terraform.io/terraform-aws-modules/s3-bucket/aws 5.10.0 for landing_bucket...
- landing_bucket in /tmp/terraform/analytical-platform-ingestion/modules/landing_bucket
Downloading registry.terraform.io/terraform-aws-modules/lambda/aws 8.0.1 for notify_quarantined_lambda...
- notify_quarantined_lambda in /tmp/terraform/analytical-platform-ingestion/modules/notify_quarantined_lambda
Downloading registry.terraform.io/terraform-aws-modules/lambda/aws 8.0.1 for notify_transferred_lambda...
- notify_transferred_lambda in /tmp/terraform/analytical-platform-ingestion/modules/notify_transferred_lambda
Downloading registry.terraform.io/ministryofjustice/observability-platform-tenant/aws 2.0.0 for observability_platform_tenant...
- observability_platform_tenant in /tmp/terraform/analytical-platform-ingestion/modules/observability_platform_tenant
Downloading registry.terraform.io/terraform-aws-modules/s3-bucket/aws 5.10.0 for processed_bucket...
- processed_bucket in /tmp/terraform/analytical-platform-ingestion/modules/processed_bucket
Downloading registry.terraform.io/terraform-aws-modules/s3-bucket/aws 5.10.0 for quarantine_bucket...
- quarantine_bucket in /tmp/terraform/analytical-platform-ingestion/modules/quarantine_bucket
Downloading registry.terraform.io/terraform-aws-modules/kms/aws 3.1.1 for quarantined_sns_kms...
- quarantined_sns_kms in /tmp/terraform/analytical-platform-ingestion/modules/quarantined_sns_kms
Downloading registry.terraform.io/terraform-aws-modules/sns/aws 7.1.0 for quarantined_topic...
- quarantined_topic in /tmp/terraform/analytical-platform-ingestion/modules/quarantined_topic
Downloading registry.terraform.io/terraform-aws-modules/kms/aws 4.2.0 for s3_bold_egress_kms...
- s3_bold_egress_kms in /tmp/terraform/analytical-platform-ingestion/modules/s3_bold_egress_kms
Downloading registry.terraform.io/terraform-aws-modules/kms/aws 3.1.1 for s3_datasync_opg_kms...
- s3_datasync_opg_kms in /tmp/terraform/analytical-platform-ingestion/modules/s3_datasync_opg_kms
Downloading registry.terraform.io/terraform-aws-modules/kms/aws 4.2.0 for s3_definitions_kms...
- s3_definitions_kms in /tmp/terraform/analytical-platform-ingestion/modules/s3_definitions_kms
Downloading registry.terraform.io/terraform-aws-modules/kms/aws 3.1.1 for s3_laa_data_analysis_kms...
- s3_laa_data_analysis_kms in /tmp/terraform/analytical-platform-ingestion/modules/s3_laa_data_analysis_kms
Downloading registry.terraform.io/terraform-aws-modules/kms/aws 4.2.0 for s3_landing_kms...
- s3_landing_kms in /tmp/terraform/analytical-platform-ingestion/modules/s3_landing_kms
Downloading registry.terraform.io/terraform-aws-modules/kms/aws 4.2.0 for s3_processed_kms...
- s3_processed_kms in /tmp/terraform/analytical-platform-ingestion/modules/s3_processed_kms
Downloading registry.terraform.io/terraform-aws-modules/kms/aws 4.2.0 for s3_quarantine_kms...
- s3_quarantine_kms in /tmp/terraform/analytical-platform-ingestion/modules/s3_quarantine_kms
Downloading registry.terraform.io/terraform-aws-modules/lambda/aws 8.0.1 for scan_lambda...
- scan_lambda in /tmp/terraform/analytical-platform-ingestion/modules/scan_lambda
Downloading registry.terraform.io/terraform-aws-modules/security-group/aws 5.3.1 for scan_lambda_security_group...
- scan_lambda_security_group in /tmp/terraform/analytical-platform-ingestion/modules/scan_lambda_security_group
Downloading registry.terraform.io/terraform-aws-modules/kms/aws 3.1.1 for secretsmanager_common_kms...
- secretsmanager_common_kms in /tmp/terraform/analytical-platform-ingestion/modules/secretsmanager_common_kms
- sftp_users in modules/transfer-family/user
Downloading registry.terraform.io/terraform-aws-modules/iam/aws 6.4.0 for sftp_users.policy...
- sftp_users.policy in /tmp/terraform/analytical-platform-ingestion/modules/sftp_users.policy/modules/iam-policy
Downloading registry.terraform.io/terraform-aws-modules/iam/aws 6.4.0 for sftp_users.role...
- sftp_users.role in /tmp/terraform/analytical-platform-ingestion/modules/sftp_users.role/modules/iam-role
- sftp_users_with_egress in modules/transfer-family/user-with-egress
Downloading registry.terraform.io/terraform-aws-modules/iam/aws 6.4.0 for sftp_users_with_egress.policy...
- sftp_users_with_egress.policy in /tmp/terraform/analytical-platform-ingestion/modules/sftp_users_with_egress.policy/modules/iam-policy
Downloading registry.terraform.io/terraform-aws-modules/iam/aws 6.4.0 for sftp_users_with_egress.role...
- sftp_users_with_egress.role in /tmp/terraform/analytical-platform-ingestion/modules/sftp_users_with_egress.role/modules/iam-role
Downloading registry.terraform.io/terraform-aws-modules/s3-bucket/aws 5.10.0 for shared_services_client_team_gov_29148_egress_bucket...
- shared_services_client_team_gov_29148_egress_bucket in /tmp/terraform/analytical-platform-ingestion/modules/shared_services_client_team_gov_29148_egress_bucket
Downloading registry.terraform.io/terraform-aws-modules/kms/aws 3.1.1 for shared_services_client_team_gov_29148_egress_kms...
- shared_services_client_team_gov_29148_egress_kms in /tmp/terraform/analytical-platform-ingestion/modules/shared_services_client_team_gov_29148_egress_kms
Downloading registry.terraform.io/terraform-aws-modules/kms/aws 4.2.0 for slack_token_kms...
- slack_token_kms in /tmp/terraform/analytical-platform-ingestion/modules/slack_token_kms
Downloading registry.terraform.io/terraform-aws-modules/kms/aws 3.1.1 for supplier_data_kms...
- supplier_data_kms in /tmp/terraform/analytical-platform-ingestion/modules/supplier_data_kms
Downloading registry.terraform.io/terraform-aws-modules/iam/aws 6.4.0 for transfer_family_service_role...
- transfer_family_service_role in /tmp/terraform/analytical-platform-ingestion/modules/transfer_family_service_role/modules/iam-role
Downloading registry.terraform.io/terraform-aws-modules/lambda/aws 8.0.1 for transfer_lambda...
- transfer_lambda in /tmp/terraform/analytical-platform-ingestion/modules/transfer_lambda
Downloading registry.terraform.io/terraform-aws-modules/security-group/aws 5.3.1 for transfer_lambda_security_group...
- transfer_lambda_security_group in /tmp/terraform/analytical-platform-ingestion/modules/transfer_lambda_security_group
Downloading registry.terraform.io/terraform-aws-modules/kms/aws 4.2.0 for transfer_logs_kms...
- transfer_logs_kms in /tmp/terraform/analytical-platform-ingestion/modules/transfer_logs_kms
Downloading registry.terraform.io/terraform-aws-modules/iam/aws 6.4.0 for transfer_server_iam_policy...
- transfer_server_iam_policy in /tmp/terraform/analytical-platform-ingestion/modules/transfer_server_iam_policy/modules/iam-policy
Downloading registry.terraform.io/terraform-aws-modules/iam/aws 6.4.0 for transfer_server_iam_role...
- transfer_server_iam_role in /tmp/terraform/analytical-platform-ingestion/modules/transfer_server_iam_role/modules/iam-role
Downloading registry.terraform.io/terraform-aws-modules/security-group/aws 5.3.1 for transfer_server_security_group...
- transfer_server_security_group in /tmp/terraform/analytical-platform-ingestion/modules/transfer_server_security_group
Downloading registry.terraform.io/terraform-aws-modules/cloudwatch/aws 5.6.0 for transfer_structured_logs...
- transfer_structured_logs in /tmp/terraform/analytical-platform-ingestion/modules/transfer_structured_logs/modules/log-group
Downloading registry.terraform.io/terraform-aws-modules/kms/aws 3.1.1 for transferred_sns_kms...
- transferred_sns_kms in /tmp/terraform/analytical-platform-ingestion/modules/transferred_sns_kms
Downloading registry.terraform.io/terraform-aws-modules/sns/aws 7.1.0 for transferred_topic...
- transferred_topic in /tmp/terraform/analytical-platform-ingestion/modules/transferred_topic
[0m[1mInitializing provider plugins...[0m
- terraform.io/builtin/terraform is built in to Terraform
- Finding hashicorp/dns versions matching "~> 3.0"...
- Finding hashicorp/external versions matching ">= 1.0.0, ~> 2.0"...
- Finding hashicorp/http versions matching "~> 3.0"...
- Finding hashicorp/random versions matching ">= 3.0.0"...
- Finding hashicorp/aws versions matching ">= 3.29.0, >= 5.0.0, >= 5.49.0, >= 5.58.0, >= 5.91.0, >= 6.0.0, ~> 6.0, >= 6.28.0"...
- Finding hashicorp/local versions matching ">= 1.0.0"...
- Finding hashicorp/null versions matching ">= 2.0.0"...
- Using previously-installed hashicorp/dns v3.5.0
- Using previously-installed hashicorp/external v2.3.5
- Using previously-installed hashicorp/http v3.5.0
- Using previously-installed hashicorp/random v3.8.1
- Using previously-installed hashicorp/aws v6.30.0
- Using previously-installed hashicorp/local v2.6.2
- Using previously-installed hashicorp/null v3.2.4

[0m[1m[32mTerraform has been successfully initialized![0m[32m[0m
[0m[32m
You may now begin working with Terraform. Try running "terraform plan" to see
any changes that are required for your infrastructure. All Terraform commands
should now work.

If you ever set or change modules or backend configuration for Terraform,
rerun this command to reinitialize your working directory. If you forget, other
commands will detect it and remind you to do so if necessary.[0m
[31mâ•·[0m[0m
[31mâ”‚[0m [0m[1m[31mError: [0m[0m[1mUnsupported argument[0m
[31mâ”‚[0m [0m
[31mâ”‚[0m [0m[0m  on iam-roles.tf line 36, in module "datasync_iam_role":
[31mâ”‚[0m [0m  36:   [4mname_prefix[0m = "datasync"[0m
[31mâ”‚[0m [0m
[31mâ”‚[0m [0mAn argument named "name_prefix" is not expected here.
[31mâ•µ[0m[0m
FATAL exit status 1
