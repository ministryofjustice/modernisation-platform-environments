[
  {
    "command": [
      "New-Item -Path C:\\inetpub\\wwwroot\\index.html -Type file -Value '<html> <head> <title>Amazon ECS Sample App</title> <style>body {margin-top: 40px; background-color: #333;} </style> </head><body> <div style=color:white;text-align:center> <h1>Amazon ECS Sample App</h1> <h2>Congratulations!</h2> <p>Your application is now running on a container in Amazon ECS.</p>'; C:\\ServiceMonitor.exe w3svc"
  ],
  "entryPoint": [
      "powershell",
      "-Command"
  ],
    "name"      : "${app_name}-container",
    "image"     : "${container_definition_image}",
    "cpu"       : 1024,
    "memory"    : 2048,
    "essential" : true,
    "portMappings" : [
      {
        "hostPort": 0,
        "containerPort": 80,
        "protocol": "tcp"
      }
    ],
    "logConfiguration" : {
      "logDriver" : "awslogs",
      "options" : {
        "awslogs-group"         : "${awslogs-group}",
        "awslogs-region"        : "eu-west-2",
        "awslogs-stream-prefix" : "ecs"
      }
    },
    "mountPoints": [
      {
        "sourceVolume": "tribunals",
        "containerPath": "c:/ProgramData/storage/"
      }
    ],

    "environment" : [
      {
        "name"  : "supportEmail",
        "value" : "${supportEmail}"
      },
      {
        "name"  : "supportTeam",
        "value" : "${supportTeam}"
      },
      {
        "name"  : "CurServer",
        "value" : "${CurServer}"
      },
      {
        "name"  : "RDS_PASSWORD",
        "value" : "${rds_password}"
      }
    ]
  }
]
